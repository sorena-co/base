<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    <changeSet author="mohammad (generated)" id="1534103901467-1">
        <createTable tableName="class_group">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="class_groupPK"/>
            </column>
            <column name="code" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="program_id" type="BIGINT"/>
            <column name="semester_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-2">
        <createTable tableName="class_room">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="class_roomPK"/>
            </column>
            <column name="code" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="class_group_id" type="BIGINT"/>
            <column name="classes_time_id" type="BIGINT"/>
            <column name="course_id" type="BIGINT"/>
            <column name="person_id" type="BIGINT"/>
            <column name="room_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-3">
        <createTable tableName="class_time">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="class_timePK"/>
            </column>
            <column name="day" type="VARCHAR(255)"/>
            <column name="end_time" type="FLOAT4"/>
            <column name="priority" type="FLOAT4"/>
            <column name="start_time" type="FLOAT4"/>
            <column name="class_group_id" type="BIGINT"/>
            <column name="person_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-4">
        <createTable tableName="course">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="coursePK"/>
            </column>
            <column name="code" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="need_lab" type="BOOLEAN"/>
            <column name="need_projector" type="BOOLEAN"/>
            <column name="practical_credit" type="INT"/>
            <column name="practical_hours" type="INT"/>
            <column name="theoretical_credit" type="INT"/>
            <column name="theoretical_hours" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-5">
        <createTable tableName="course_person">
            <column name="courses_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="people_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-6">
        <createTable tableName="course_program">
            <column name="courses_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="programs_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-7">
        <createTable tableName="institution">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="institutionPK"/>
            </column>
            <column name="address" type="VARCHAR(255)"/>
            <column name="code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="fax_number" type="VARCHAR(255)"/>
            <column name="institution_type" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="phone_number_1" type="VARCHAR(255)"/>
            <column name="phone_number_2" type="VARCHAR(255)"/>
            <column name="population" type="INT"/>
            <column name="postal_code" type="VARCHAR(255)"/>
            <column name="website" type="VARCHAR(255)"/>
            <column name="region_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-8">
        <createTable tableName="person">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="personPK"/>
            </column>
            <column name="address" type="VARCHAR(255)"/>
            <column name="birth_certificate" type="VARCHAR(255)"/>
            <column name="birth_date" type="BYTEA"/>
            <column name="code" type="VARCHAR(255)"/>
            <column name="jhi_degree" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="father_name" type="VARCHAR(255)"/>
            <column name="first_name" type="VARCHAR(255)"/>
            <column name="gender" type="VARCHAR(255)"/>
            <column name="last_name" type="VARCHAR(255)"/>
            <column name="major" type="VARCHAR(255)"/>
            <column name="max_credits" type="INT"/>
            <column name="mobile_number" type="VARCHAR(255)"/>
            <column name="national_id" type="VARCHAR(255)"/>
            <column name="person_type" type="VARCHAR(255)"/>
            <column name="phone_number" type="VARCHAR(255)"/>
            <column name="postal_code" type="VARCHAR(255)"/>
            <column name="priority" type="FLOAT4"/>
            <column name="institution_id" type="BIGINT"/>
            <column name="region_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-9">
        <createTable tableName="program">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="programPK"/>
            </column>
            <column name="code" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="institution_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-10">
        <createTable tableName="region">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="regionPK"/>
            </column>
            <column name="code" type="VARCHAR(255)"/>
            <column name="lvl" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="parent_region_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-11">
        <createTable tableName="room">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="roomPK"/>
            </column>
            <column name="has_projector" type="BOOLEAN"/>
            <column name="is_lab" type="BOOLEAN"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="jhi_size" type="INT"/>
            <column name="institution_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-12">
        <createTable tableName="semester">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="semesterPK"/>
            </column>
            <column name="code" type="VARCHAR(255)"/>
            <column name="end_date" type="BYTEA"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="start_date" type="BYTEA"/>
            <column name="institution_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-13">
        <addPrimaryKey columnNames="courses_id, people_id" tableName="course_person"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-14">
        <addPrimaryKey columnNames="courses_id, programs_id" tableName="course_program"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-15">
        <addUniqueConstraint columnNames="classes_time_id" constraintName="UC_CLASS_ROOMCLASSES_TIME_ID_COL" tableName="class_room"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-16">
        <addForeignKeyConstraint baseColumnNames="courses_id" baseTableName="course_person" constraintName="FK1782cdn5w9tuyol13yq98ygc7" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="course"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-17">
        <addForeignKeyConstraint baseColumnNames="region_id" baseTableName="institution" constraintName="FK1qh02e7tj0ev6wvniptoyof47" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="region"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-18">
        <addForeignKeyConstraint baseColumnNames="program_id" baseTableName="class_group" constraintName="FK4u9ura4d1cpguq86xglsmumhe" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="program"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-19">
        <addForeignKeyConstraint baseColumnNames="person_id" baseTableName="class_time" constraintName="FK5lqs3rr978cxq924ixevrky9r" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="person"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-20">
        <addForeignKeyConstraint baseColumnNames="class_group_id" baseTableName="class_time" constraintName="FK6b0xoaeonh0i3u50pt23aitho" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="class_group"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-21">
        <addForeignKeyConstraint baseColumnNames="class_group_id" baseTableName="class_room" constraintName="FKa22lprnq0we767pym7st1e05f" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="class_group"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-22">
        <addForeignKeyConstraint baseColumnNames="semester_id" baseTableName="class_group" constraintName="FKade1ho62pjadksvjra1tqww3j" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="semester"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-23">
        <addForeignKeyConstraint baseColumnNames="person_id" baseTableName="class_room" constraintName="FKcsrbdiajqi5xalk6trmw42u2h" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="person"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-24">
        <addForeignKeyConstraint baseColumnNames="programs_id" baseTableName="course_program" constraintName="FKdbxgo4qprqq5484ofc97kvxcg" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="program"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-25">
        <addForeignKeyConstraint baseColumnNames="parent_region_id" baseTableName="region" constraintName="FKeojo2oralh7nh9d3jkyxseuyj" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="region"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-26">
        <addForeignKeyConstraint baseColumnNames="institution_id" baseTableName="program" constraintName="FKfr6h2e2bsg8m0csg2ncuidaxu" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="institution"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-27">
        <addForeignKeyConstraint baseColumnNames="region_id" baseTableName="person" constraintName="FKi6yy93s6d5q911wjn1e4bd1ff" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="region"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-28">
        <addForeignKeyConstraint baseColumnNames="people_id" baseTableName="course_person" constraintName="FKk5iqln4pys4j64mcjamj1fxpq" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="person"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-29">
        <addForeignKeyConstraint baseColumnNames="institution_id" baseTableName="semester" constraintName="FKkcce2hntl0lqdfnju4gxl9ejp" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="institution"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-30">
        <addForeignKeyConstraint baseColumnNames="classes_time_id" baseTableName="class_room" constraintName="FKlpclxbqjdopjktl8p1xxwd3ng" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="class_time"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-31">
        <addForeignKeyConstraint baseColumnNames="institution_id" baseTableName="person" constraintName="FKm6hppt2inaj0r3c39rwff0m6v" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="institution"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-32">
        <addForeignKeyConstraint baseColumnNames="institution_id" baseTableName="room" constraintName="FKna9e191cd4gbqwrtg28sa5krs" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="institution"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-33">
        <addForeignKeyConstraint baseColumnNames="courses_id" baseTableName="course_program" constraintName="FKnr4cjmaq3qdm8qs5gb36s20ik" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="course"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-34">
        <addForeignKeyConstraint baseColumnNames="room_id" baseTableName="class_room" constraintName="FKntm5vmy5rixofn6bbf7bq7g6m" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="room"/>
    </changeSet>
    <changeSet author="mohammad (generated)" id="1534103901467-35">
        <addForeignKeyConstraint baseColumnNames="course_id" baseTableName="class_room" constraintName="FKotwagfpc3bld59u96tht3jce9" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="course"/>
    </changeSet>
</databaseChangeLog>
